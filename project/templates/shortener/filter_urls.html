{% extends "shortener/base.html" %}
{#{% load crispy_forms_tags %}#}

{% block content %}
    <div class="content-section">
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Filter Your URLS</legend>
{#                <div class="form-group col-lg-offset-6" align="left">#}
{#                     <label for="Date">Choose a date range:</label>#}
{#                    <select name="Date" id="date">#}
{#                      <option value="Today">Today</option>#}
{#                      <option value="Previous Week">Previous Week</option>#}
{#                      <option value="Previous Month">Previous Month</option>#}
{#                    </select>#}
{#                <br>#}
{#                     <label for="Device">Choose a Device:</label>#}
{#                    <select name="Device" id="device">#}
{#                      <option value="Phone">Phone</option>#}
{#                      <option value="Desktop">Desktop</option>#}
{#                    </select>#}
{#                <br>#}
{#                     <label for="Browser">Choose a Browser:</label>#}
{#                    <select name="cars" id="cars">#}
{#                        {% for object in browsers %}#}
{#                            <option value="{{ object.browser}}">{{ object.browser }}</option>#}
{#                        {% endfor %}#}
{#                    </select>#}
{#                </div>#}
                <div class="form-group row-no-gutters">
                    <div class="form-group col">
                        <div class="card card-body col-lg-offset-6">
                            <form method="get">
                                {{ filters.form }}
                                <br>
                                <button type="submit" class="btn btn-outline-info">Search</button>
                            </form>
                        </div>
                    </div>
                </div>
            <br>
                <table border="1" class="table-condensed col">
                    <tr>
                        <th>username</th>
                        <th>init url</th>
                        <th>short url</th>
                        <th>device</th>
                        <th>browser</th>
                        <th>retrieve date</th>
                    </tr>
                    {% for obj in objects %}
                        <tr>
                            <td>{{obj.user.username}}</td>
                            <td>
                                <a href="{{ obj.get_absolute_url }}" target="_blank">{{ obj.init_url }}</a>
                            </td>
                            <td>
                                <a href="{{ obj.get_absolute_url }}" target="_blank">{{ obj.short_url }}</a>
                            </td>
                            <td>{{ obj.device }}</td>
                            <td>{{ obj.browser }}</td>
                            <td>
                                <p class="datetime">{{ obj.retrieve_time }}</p>
                            </td>
                        </tr>
                    {% endfor %}

                </table>
            </fieldset>
    </div>
{% endblock content %}